// GENERATED BY SCHEMOCK - DO NOT EDIT
// Client methods for custom endpoints

import type * as Types from './types';

// API base URL - configure based on environment
const API_BASE = typeof window !== 'undefined' ? window.location.origin : '';

export const endpoints = {
  postsBulkDelete: async (body: Types.PostsBulkDeleteBody): Promise<Types.PostsBulkDeleteResponse> => {
    const response = await fetch(`${API_BASE}/api/posts/bulk-delete`, {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify(body),
    });

    if (!response.ok) {
      const error = await response.json().catch(() => ({}));
      throw new Error(error.message || `HTTP ${response.status}`);
    }

    return response.json();
  },

  postsBulkPublish: async (body: Types.PostsBulkPublishBody): Promise<Types.PostsBulkPublishResponse> => {
    const response = await fetch(`${API_BASE}/api/posts/bulk-publish`, {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify(body),
    });

    if (!response.ok) {
      const error = await response.json().catch(() => ({}));
      throw new Error(error.message || `HTTP ${response.status}`);
    }

    return response.json();
  },

  usersByUserIdStats: async (params: Types.UsersByUserIdStatsParams): Promise<Types.UsersByUserIdStatsResponse> => {
    const url = new URL(`${API_BASE}/api/users/${params.userId}/stats`);
    const response = await fetch(url.toString());

    if (!response.ok) {
      const error = await response.json().catch(() => ({}));
      throw new Error(error.message || `HTTP ${response.status}`);
    }

    return response.json();
  },

  search: async (params: Types.SearchParams): Promise<Types.SearchResponse> => {
    const url = new URL(`${API_BASE}/api/search`);
    if (params.q !== undefined) {
      url.searchParams.set('q', String(params.q));
    }
    if (params.type !== undefined) {
      url.searchParams.set('type', String(params.type));
    }
    if (params.limit !== undefined) {
      url.searchParams.set('limit', String(params.limit));
    }
    const response = await fetch(url.toString());

    if (!response.ok) {
      const error = await response.json().catch(() => ({}));
      throw new Error(error.message || `HTTP ${response.status}`);
    }

    return response.json();
  },

};